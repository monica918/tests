## 注意点
- 应用于分布式，是多服务与多服务之间的通信，一个服务可以发布多个topic，一个topic也可以被多个服务订阅
- 但是不是服务与服务直接通信，而是引入了一个中间件(kafka),生产服务生产数据，并把数据（key+json）发送给topic下的分区，消费服务从分区里获取数据并进行相关处理
- 生产服务通过数据里的key来决定发送到哪个分区里
- topic是个逻辑概念，用来组织和归类类似消息的（类似于给消息起个名字），同一类型的数据都是同一个topic，不是物理概念，不能存储数据，存储数据是在分区里，消费者通过订阅topic来获取数据
- 分区可以实现分布在不同的服务器上，生产者将数据存储在主题下的不同分区里面
- 一条消息可能带有以下几个数据：1.主题 2.分区 3.键 4.值(想传送的数据)

那消费者如何读取数据呢？引出偏移量
偏移量（offset）：第几个
一个分区里面，每个消息的偏移量都是唯一的
消费者只能顺序读取

这样的话我们就实现了一个borker，borker里面包含主题，分区、
borker为传来的消息根据分区设置偏移量，将其存储在磁盘上，borker也为消费者提供服务，提供响应。
多个Borker集群就是kafka集群，这样就提供了消息的安全性。在这个集群中可能还会有一个集群负责控制器的角色。






