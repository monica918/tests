## 请你说下在工作中是如何开展自动化测试的
- 首先需要了解业务，根据需求确定要测试的接口和测试范围（针对稳定的/重要的/主流程的业务，梳理业务自动化场景）
- 维护接口数据：把这些场景涉及的接口数据（请求url/请求method/请求参数/响应数据）维护到excel/数据库
- 设计用例数据：把用例数据(用例标题/步骤/测试数据/预期结果/实际结果等)维护到excel/数据库里
- 运行测试用例：使用requests库，发送请求、接收响应、解析响应数据、进行断言(assertEqual等)、把用例结果维护进excel/数据库里
- 缺陷管理：确认是否是系统或应用程序的问题，记录并提交缺陷报告给开发团队
- 维护和更新：随着项目的迭代和变化，进行接口数据/测试用例的更新和维护，确保接口自动化测试持续有效
- 持续集成与自动化执行：jenkins实现自动化的构建流程，并且结合allure插件输出报告


## 用到哪些框架/库
- PyTest框架
- Requests库，用于发送HTTP请求
- openpyxl，用于读取excel文件
- pymysql，用于操作MySQL数据库
- os，用于操作文件和目录
- json，用于处理json数据
- logging，用于操作日志
- faker，是一个用于生成随机数据的Python库
- pytest-mock，是一个用于在pytest测试框架中进行模拟和断言的插件

## 测试框架由哪些模块组成
- 测试脚本编写模块：用于编写测试脚本，定义测试用例和预期结果。
- 测试数据管理模块：用于管理测试数据，包括测试数据的生成、存储和加载。
- 测试执行引擎模块：负责执行测试脚本，并收集和分析测试结果。
- 断言和校验模块：用于验证测试结果是否符合预期，可以包括断言库或验证方法。
- 日志和报告模块：用于记录测试执行过程中的日志信息，生成测试报告以及结果的展示。
- 测试环境管理模块：用于管理测试环境的配置和部署，包括数据库、服务器等。
- 测试工具集成模块：集成其他测试工具，如

## 当接口自动化测试中测试一个场景的时间过长时，可以考虑以下优化代码的方法：
- 减少不必要的请求：检查测试场景中是否存在多余的请求或重复的请求。如果某些请求对于当前场景的验证并不必要，可以将其移除，减少不必要的网络请求。
- 并发执行：如果测试场景中存在可以并发执行的请求，可以使用多线程或异步请求的方式，同时发送多个请求，以提高测试速度。
- 数据准备优化：如果测试场景中需要大量的数据准备工作，可以考虑优化数据准备的过程。可以采用数据库事务回滚、缓存数据、数据复用等方式，减少数据准备的时间和工作量。
- 数据清理优化：测试完成后，及时清理测试数据，避免数据积累导致测试时间增长。可以在测试结束后执行数据清理操作，恢复系统状态，以便下一次测试的进行。
- 合理设置等待时间：在代码中，合理设置等待时间，避免不必要的等待。根据接口的响应时间和业务需求，设置适当的等待时间，以避免过长的等待导致测试时间延长。
- 调整测试策略：评估测试场景的复杂度和覆盖范围，如果测试的覆盖范围过大或场景过于复杂，可以考虑调整测试策略，将场景进行拆分，分批次执行，以减少单个场景的执行时间。
- 日志优化：在测试代码中添加合适的日志记录，可以帮助定位测试场景执行过程中的问题。通过日志记录，可以准确定位潜在的性能瓶颈和耗时操作，并进行优化。


## 数据获取方式
- 静态数据配置：以变量或配置文件的形式存储。在测试用例执行时直接使用这些静态数据作为输入。
- 动态数据生成：对于需要动态生成的数据，可以使用随机生成器或者其他数据生成方法来生成。例如，生成唯一的用户名、邮箱等。
- 数据库操作：如果测试数据需要从数据库中获取，可以使用数据库查询操作来获取所需的数据。在测试用例执行前，先查询所需的数据，并保存到变量中供后续使用。
- 数据依赖：setattr把数据以键值对的格式存到对象里，getattr从对象里获取数据。
- 数据清理：在数据依赖处理完毕后，需要进行数据清理，确保测试环境的数据一致性。可以编写数据清理的逻辑，删除或恢复测试过程中所产生的数据。


## 通过调用接口获取数据还是直接查数据库获取数据
- 数据简单，可以直接调用单接口获取数据
- 获取的数据比较复杂，需要进行一些特殊查询或者关联查询获取特定数据，那么直接查询数据库可能更加灵活和高效

## 怎么通过sql命令把csv数据导入到数据库中
- load data infile

## 接口执行时间
假设大概1570条用例，二八原则，80%的接口速度在350ms，20%的复杂接口响应速度1.5s,计算一下，大概时间15min。正负2-3min偏差,采用多线程执行的话，时间更短

## 接口校验
- 状态码 code:200
- 业务码 status:0
- 字符
- 数据库